<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Painel do Administrador - Corretoras Brasil</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .admin-wrapper {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }

        .admin-card {
            width: 100%;
            max-width: 720px;
            background: #020617;
            border-radius: 20px;
            border: 1px solid var(--cor-borda);
            box-shadow: var(--sombra-card);
            padding: 20px 22px 24px;
        }

        .admin-card h1 {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .admin-card p {
            font-size: 13px;
            color: var(--cor-texto-suave);
            margin-bottom: 16px;
        }

        .linha-form-admin {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 10px;
            margin-bottom: 8px;
        }

        @media (max-width: 720px) {
            .linha-form-admin {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <!-- mesmo topo bonito do site -->
    <header class="topo">
        <div class="container topo-conteudo">
            <div class="logo">
                <span class="logo-icone">üè†</span>
                <div class="logo-textos">
                    <h1>Corretoras Brasil</h1>
                    <p>Painel do administrador</p>
                </div>
            </div>

            <a href="index.html" class="btn-secundario">‚Üê Voltar para o site</a>
        </div>
    </header>

    <div class="admin-wrapper">
        <div class="admin-card">
            <!-- TELA DE LOGIN -->
            <div id="telaLogin">
                <h1>Login do administrador</h1>
                <p>Informe a senha para acessar o painel e cadastrar an√∫ncios.</p>

                <form id="formLogin" class="campo">
                    <label for="senhaAdmin">Senha</label>
                    <input type="password" id="senhaAdmin" placeholder="Digite a senha do painel" required>
                    <div class="acoes-form" style="justify-content:flex-start; margin-top:12px;">
                        <button type="submit" class="btn-primario">Entrar</button>
                    </div>
                </form>
            </div>

            <!-- TELA DO PAINEL -->
            <div id="telaPainel" style="display:none;">
                <h1>Novo an√∫ncio</h1>
                <p>Preencha os dados do im√≥vel do cliente. Depois de salvar ele aparece automaticamente na p√°gina
                    inicial.</p>

                <form id="formAdmin">
                    <div class="linha-form-admin">
                        <div class="campo">
                            <label for="tituloAdmin">T√≠tulo do an√∫ncio</label>
                            <input id="tituloAdmin" type="text" required placeholder="Ex: Casa 3 qts com quintal">
                        </div>

                        <div class="campo">
                            <label for="tipoNegocioAdmin">Tipo de neg√≥cio</label>
                            <select id="tipoNegocioAdmin" required>
                                <option value="">Selecione</option>
                                <option value="venda">Venda</option>
                                <option value="aluguel">Aluguel</option>
                            </select>
                        </div>

                        <div class="campo">
                            <label for="tipoImovelAdmin">Tipo de im√≥vel</label>
                            <select id="tipoImovelAdmin" required>
                                <option value="">Selecione</option>
                                <option value="casa">Casa</option>
                                <option value="apartamento">Apartamento</option>
                                <option value="kitnet">Kitnet</option>
                                <option value="terreno">Terreno</option>
                                <option value="sala_comercial">Sala comercial</option>
                            </select>
                        </div>
                    </div>

                    <div class="linha-form-admin">
                        <div class="campo">
                            <label for="precoAdmin">Pre√ßo (R$)</label>
                            <input id="precoAdmin" type="number" min="0" required placeholder="Ex: 350000">
                        </div>

                        <div class="campo">
                            <label for="cidadeAdmin">Cidade</label>
                            <input id="cidadeAdmin" type="text" required placeholder="Ex: S√£o Paulo">
                        </div>

                        <div class="campo">
                            <label for="bairroAdmin">Bairro</label>
                            <input id="bairroAdmin" type="text" required placeholder="Ex: Centro">
                        </div>
                    </div>

                    <div class="linha-form-admin">
                        <div class="campo">
                            <label for="quartosAdmin">Quartos</label>
                            <input id="quartosAdmin" type="number" min="0" placeholder="2">
                        </div>

                        <div class="campo">
                            <label for="banheirosAdmin">Banheiros</label>
                            <input id="banheirosAdmin" type="number" min="0" placeholder="1">
                        </div>

                        <div class="campo">
                            <label for="vagasAdmin">Vagas de garagem</label>
                            <input id="vagasAdmin" type="number" min="0" placeholder="1">
                        </div>
                    </div>

                    <div class="campo">
                        <label for="descricaoAdmin">Descri√ß√£o</label>
                        <textarea id="descricaoAdmin" rows="4"
                            placeholder="Pontos fortes do im√≥vel, reformas, √°rea, proximidade de com√©rcio, etc."></textarea>
                    </div>

                    <div class="campo">
                        <label for="whatsAdmin">WhatsApp do cliente</label>
                        <input id="whatsAdmin" type="tel" required placeholder="DDD + n√∫mero (somente d√≠gitos)">
                    </div>

                    <div class="campo">
                        <label>Links das fotos (URLs)</label>
                        <input id="foto1" type="url" placeholder="Link da foto 1">
                        <input id="foto2" type="url" placeholder="Link da foto 2 (opcional)" style="margin-top:6px;">
                        <input id="foto3" type="url" placeholder="Link da foto 3 (opcional)" style="margin-top:6px;">
                        <small style="color:#9ca3af; font-size:12px; margin-top:4px;">
                            Dica: voc√™ pode colar links de fotos enviadas pelo cliente (Google Fotos, WhatsApp Web,
                            etc).
                        </small>
                    </div>

                    <div class="campo destaque-campo" style="margin-top:10px;">
                        <label>
                            <input type="checkbox" id="destaqueAdmin">
                            Marcar como <strong>destaque</strong> (aparece primeiro na lista)
                        </label>
                    </div>

                    <div class="acoes-form">
                        <button type="reset" class="btn-secundario">Limpar</button>
                        <button type="submit" class="btn-primario">Salvar an√∫ncio</button>
                    </div>
                </form>

                <p style="font-size:12px; color:#9ca3af; margin-top:14px;">
                    Ap√≥s salvar, atualize a p√°gina inicial (index.html) para ver o an√∫ncio aparecendo.
                </p>
            </div>
        </div>
    </div>

    <script>
        // senha do painel
        const SENHA_CORRETA = "Jad123456789son@";

        const telaLogin = document.getElementById("telaLogin");
        const telaPainel = document.getElementById("telaPainel");
        const formLogin = document.getElementById("formLogin");

        formLogin.addEventListener("submit", function (e) {
            e.preventDefault();
            const senhaDigitada = document.getElementById("senhaAdmin").value.trim();

            if (senhaDigitada === SENHA_CORRETA) {
                telaLogin.style.display = "none";
                telaPainel.style.display = "block";
            } else {
                alert("Senha incorreta. Tente novamente.");
            }
        });

        const formAdmin = document.getElementById("formAdmin");

        formAdmin.addEventListener("submit", function (e) {
            e.preventDefault();

            const novo = {
                id: Date.now(),
                titulo: document.getElementById("tituloAdmin").value.trim(),
                tipoNegocio: document.getElementById("tipoNegocioAdmin").value,
                tipoImovel: document.getElementById("tipoImovelAdmin").value,
                preco: Number(document.getElementById("precoAdmin").value),
                cidade: document.getElementById("cidadeAdmin").value.trim(),
                bairro: document.getElementById("bairroAdmin").value.trim(),
                quartos: Number(document.getElementById("quartosAdmin").value || 0),
                banheiros: Number(document.getElementById("banheirosAdmin").value || 0),
                vagas: Number(document.getElementById("vagasAdmin").value || 0),
                descricao: document.getElementById("descricaoAdmin").value.trim(),
                whatsapp: document.getElementById("whatsAdmin").value.trim(),
                destaque: document.getElementById("destaqueAdmin").checked,
                dataCadastro: new Date().toISOString().slice(0, 10),
                fotos: [
                    document.getElementById("foto1").value.trim(),
                    document.getElementById("foto2").value.trim(),
                    document.getElementById("foto3").value.trim()
                ].filter(Boolean)
            };

            const chave = "imoveisExtras";
            let extras = [];
            try {
                extras = JSON.parse(localStorage.getItem(chave)) || [];
            } catch (e2) {
                extras = [];
            }

            extras.unshift(novo);
            localStorage.setItem(chave, JSON.stringify(extras));

            alert("Im√≥vel cadastrado com sucesso! Ele j√° aparece na p√°gina inicial.");
            formAdmin.reset();
        });
    </script>
</body>

</html>